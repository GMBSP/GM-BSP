<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Tower - Community Forums</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Verdana, Arial, sans-serif;
            background: linear-gradient(135deg, #1a1a1a 0%, #2c2c2c 50%, #3d3d3d 100%);
            background-attachment: fixed;
            color: #333;
            font-size: 12px;
            line-height: 1.5;
        }

        /* Header */
        .header {
            background: linear-gradient(90deg, #2c5aa0 0%, #3d6bb5 50%, #5085d4 100%);
            border-bottom: 4px solid #1a3d7a;
            padding: 20px 0;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .header-content {
            max-width: 980px;
            margin: 0 auto;
            padding: 0 15px;
        }

        .logo-text {
            font-size: 36px;
            font-weight: bold;
            background: linear-gradient(90deg, #e8f4ff 0%, #b8d4ff 50%, #fff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            font-family: 'Arial Black', sans-serif;
            filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.5));
        }

        .subtitle {
            color: #b8d4ff;
            margin-top: 5px;
            font-size: 14px;
        }

        /* Container */
        .container {
            max-width: 980px;
            margin: 20px auto;
            background: #fff;
            border: 1px solid #555;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
        }

        /* Server Tabs */
        .server-tabs {
            display: flex;
            background: linear-gradient(90deg, #2c2c2c 0%, #3d3d3d 100%);
            border-bottom: 2px solid #555;
        }

        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            font-weight: bold;
            color: #999;
            border-right: 1px solid #555;
            transition: all 0.3s ease;
        }

        .tab:last-child {
            border-right: none;
        }

        .tab:hover {
            background: #4d4d4d;
            color: #fff;
        }

        .tab.active {
            background: #fff;
            color: #333;
        }

        .tab.gmod.active {
            background: linear-gradient(180deg, #fff 0%, #e8f4ff 100%);
            color: #2c5aa0;
            border-bottom: 3px solid #2c5aa0;
        }

        .tab.tf2.active {
            background: linear-gradient(180deg, #fff 0%, #fff8e0 100%);
            color: #8b6914;
            border-bottom: 3px solid #d9a441;
        }

        /* Content */
        .content {
            padding: 30px;
        }

        .page-title {
            font-size: 24px;
            font-weight: bold;
            color: #2c5aa0;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 3px solid #2c5aa0;
        }

        .page-title.tf2-theme {
            color: #8b6914;
            border-bottom-color: #d9a441;
        }

        /* Forum Posts */
        .forum-post {
            background: linear-gradient(135deg, #fff 0%, #f9f9f9 100%);
            border: 2px solid #ddd;
            border-radius: 4px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .forum-post:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            border-color: #2c5aa0;
        }

        .forum-post.tf2-theme:hover {
            border-color: #d9a441;
        }

        .forum-post-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .forum-post-title {
            font-size: 18px;
            font-weight: bold;
            color: #2c5aa0;
            margin: 0;
        }

        .forum-post-title.tf2-theme {
            color: #8b6914;
        }

        .forum-post-meta {
            font-size: 11px;
            color: #666;
            margin-top: 5px;
        }

        .forum-post-category {
            padding: 5px 12px;
            background: linear-gradient(90deg, #2c5aa0 0%, #3d6bb5 100%);
            color: #fff;
            border-radius: 4px;
            font-size: 11px;
            font-weight: bold;
            text-transform: uppercase;
            white-space: nowrap;
        }

        .forum-post-category.announcement { background: linear-gradient(90deg, #5c4033 0%, #8b6914 100%); }
        .forum-post-category.update { background: linear-gradient(90deg, #4a7c9e 0%, #5c9fc8 100%); }
        .forum-post-category.event { background: linear-gradient(90deg, #d9534f 0%, #e86763 100%); }
        .forum-post-category.maintenance { background: linear-gradient(90deg, #f0ad4e 0%, #f5c16e 100%); }
        .forum-post-category.news { background: linear-gradient(90deg, #5cb85c 0%, #6cc76c 100%); }

        .forum-post-content {
            font-size: 13px;
            line-height: 1.6;
            color: #333;
            white-space: pre-wrap;
            margin-top: 10px;
        }

        .server-badge {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 3px;
            font-size: 10px;
            font-weight: bold;
            margin-left: 10px;
        }

        .server-badge.gmod {
            background: #2c5aa0;
            color: #fff;
        }

        .server-badge.tf2 {
            background: #d9a441;
            color: #2c1810;
        }

        .no-posts {
            text-align: center;
            padding: 60px 20px;
            color: #999;
            font-style: italic;
            font-size: 14px;
        }

        .back-links {
            display: flex;
            gap: 20px;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #ddd;
        }

        .back-link {
            color: #2c5aa0;
            text-decoration: none;
            font-weight: bold;
            font-size: 13px;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        .back-link.tf2 {
            color: #8b6914;
        }

        /* Footer */
        footer {
            background: linear-gradient(90deg, #1a1a1a 0%, #2c2c2c 100%);
            color: #fff;
            padding: 20px 0;
            margin-top: 0;
            border-top: 4px solid #555;
            box-shadow: 0 -4px 8px rgba(0, 0, 0, 0.3);
        }

        .footer-content {
            max-width: 980px;
            margin: 0 auto;
            padding: 0 15px;
            font-size: 11px;
            text-align: center;
        }

        .footer-links {
            margin: 10px 0;
        }

        .footer-links a {
            color: #b8d4ff;
            text-decoration: none;
            margin: 0 10px;
        }

        .footer-links a:hover {
            text-decoration: underline;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
            }

            .content {
                padding: 15px;
            }

            .server-tabs {
                flex-direction: column;
            }

            .tab {
                border-right: none;
                border-bottom: 1px solid #555;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="header-content">
            <div class="logo-text">THE TOWER</div>
            <div class="subtitle">Community Forums</div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Server Tabs -->
        <div class="server-tabs">
            <div class="tab gmod active" onclick="switchServer('gmod')" id="gmodTab">
                üéÆ GM TOWER
            </div>
            <div class="tab tf2" onclick="switchServer('tf2')" id="tf2Tab">
                üî´ TF2 TOWER
            </div>
            <div class="tab" onclick="switchServer('all')" id="allTab">
                üåê ALL POSTS
            </div>
        </div>

        <!-- Content -->
        <div class="content">
            <h1 class="page-title" id="pageTitle">GM Tower Forums</h1>
            
            <div id="forumPosts">
                <!-- Posts will be loaded here -->
            </div>

            <div class="back-links">
                <a href="index" class="back-link">‚Üê Back to GM Tower</a>
                <a href="tf2tower" class="back-link tf2">‚Üê Back to TF2 Tower</a>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-links">
                <a href="index">GM Tower</a> | 
                <a href="tf2tower">TF2 Tower</a> | 
                <a href="https://discord.gg/udE8zN5Gx7" target="_blank">Discord</a>
            </div>
            <p>&copy; 2012 The Tower Community</p>
        </div>
    </footer>

    <script>
        let currentServer = 'gmod';

        function switchServer(server) {
            currentServer = server;

            // Update tabs
            document.getElementById('gmodTab').classList.remove('active');
            document.getElementById('tf2Tab').classList.remove('active');
            document.getElementById('allTab').classList.remove('active');

            if (server === 'gmod') {
                document.getElementById('gmodTab').classList.add('active');
                document.getElementById('pageTitle').textContent = 'GM Tower Forums';
                document.getElementById('pageTitle').classList.remove('tf2-theme');
            } else if (server === 'tf2') {
                document.getElementById('tf2Tab').classList.add('active');
                document.getElementById('pageTitle').textContent = 'TF2 Tower Forums';
                document.getElementById('pageTitle').classList.add('tf2-theme');
            } else {
                document.getElementById('allTab').classList.add('active');
                document.getElementById('pageTitle').textContent = 'All Server Forums';
                document.getElementById('pageTitle').classList.remove('tf2-theme');
            }

            loadForumPosts();
        }

        function loadForumPosts() {
            // Load posts from both servers
            const gmodPosts = JSON.parse(localStorage.getItem('gmod_forum_posts') || '[]').map(p => ({...p, server: 'gmod'}));
            const tf2Posts = JSON.parse(localStorage.getItem('tf2_forum_posts') || '[]').map(p => ({...p, server: 'tf2'}));

            let posts = [];
            if (currentServer === 'gmod') {
                posts = gmodPosts;
            } else if (currentServer === 'tf2') {
                posts = tf2Posts;
            } else {
                posts = [...gmodPosts, ...tf2Posts];
            }

            const forumContainer = document.getElementById('forumPosts');

            if (posts.length === 0) {
                forumContainer.innerHTML = '<div class="no-posts">No posts yet. Check back soon!</div>';
                return;
            }

            // Sort posts by date (newest first)
            posts.sort((a, b) => new Date(b.date) - new Date(a.date));

            const categoryIcons = {
                announcement: 'üì¢',
                update: 'üîÑ',
                event: 'üéâ',
                maintenance: 'üîß',
                news: 'üì∞'
            };

            let html = '';
            posts.forEach((post) => {
                const icon = categoryIcons[post.category] || 'üì∞';
                const postDate = new Date(post.date).toLocaleDateString('en-US', { 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                });

                const themeClass = post.server === 'tf2' ? 'tf2-theme' : '';
                const serverBadge = currentServer === 'all' ? 
                    `<span class="server-badge ${post.server}">${post.server === 'gmod' ? 'GM TOWER' : 'TF2 TOWER'}</span>` : '';

                html += `
                    <div class="forum-post ${themeClass}">
                        <div class="forum-post-header">
                            <div>
                                <h3 class="forum-post-title ${themeClass}">
                                    ${icon} ${post.title}${serverBadge}
                                </h3>
                                <div class="forum-post-meta">
                                    üìÖ ${postDate}
                                </div>
                            </div>
                            <span class="forum-post-category ${post.category}">
                                ${post.category}
                            </span>
                        </div>
                        <div class="forum-post-content">${post.content}</div>
                    </div>
                `;
            });

            forumContainer.innerHTML = html;
        }

        // Load posts on page load
        window.addEventListener('DOMContentLoaded', loadForumPosts);

        // Initialize default posts if none exist
        function initializeDefaultPosts() {
            const gmodPosts = localStorage.getItem('gmod_forum_posts');
            const tf2Posts = localStorage.getItem('tf2_forum_posts');

            // Default GM Tower posts
            if (!gmodPosts || JSON.parse(gmodPosts).length === 0) {
                const defaultGmodPosts = [
                    {
                        id: Date.now() - 10000,
                        title: "The Weird Door in Construct",
                        date: "2024-12-15",
                        category: "news",
                        content: "Has anyone else noticed the mysterious door that appeared in construct? It doesn't open and makes strange sounds when you get close. Some players are saying it's part of an ARG. What do you think?",
                        server: "gmod",
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: Date.now() - 9000,
                        title: "Sandbox Build Competition This Weekend!",
                        date: "2025-01-10",
                        category: "event",
                        content: "üèóÔ∏è Build Competition Alert!\n\nThis Saturday at 3 PM EST, we're hosting our monthly build competition!\n\nTheme: \"Futuristic City\"\nPrizes: Custom player models and VIP status\nTime limit: 2 hours\n\nSign up in Discord!",
                        server: "gmod",
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: Date.now() - 8000,
                        title: "New TTT Maps Added",
                        date: "2025-01-18",
                        category: "update",
                        content: "We've added 3 new TTT maps to the rotation:\n\n- ttt_minecraft_b5\n- ttt_clue_se\n- ttt_rooftops_a2_1\n\nCheck them out and let us know what you think!",
                        server: "gmod",
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: Date.now() - 7000,
                        title: "Zombie Survival Tips for New Players",
                        date: "2025-01-05",
                        category: "announcement",
                        content: "New to Zombie Survival? Here are some tips:\n\n1. Always barricade early\n2. Stick with your team\n3. Save ammo for later waves\n4. Use props to block doorways\n5. Communication is key!\n\nSee you on the server!",
                        server: "gmod",
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: Date.now() - 6000,
                        title: "Server Restart - New Addons",
                        date: "2025-01-20",
                        category: "maintenance",
                        content: "‚ö†Ô∏è The server will restart tonight at 11 PM EST.\n\nWe're installing:\n- New prop pack\n- Updated admin tools\n- Performance optimizations\n\nExpected downtime: 15 minutes",
                        server: "gmod",
                        createdAt: new Date().toISOString()
                    }
                ];
                localStorage.setItem('gmod_forum_posts', JSON.stringify(defaultGmodPosts));
            }

            // Default TF2 Tower posts
            if (!tf2Posts || JSON.parse(tf2Posts).length === 0) {
                const defaultTf2Posts = [
                    {
                        id: Date.now() - 5000,
                        title: "Welcome to The TF2 Tower!",
                        date: "2025-01-15",
                        category: "announcement",
                        content: "üéÆ Welcome to our TF2 community server!\n\nWe're a friendly server focused on classic TF2 gameplay. No random crits, no ads, just pure fun.\n\nJoin our Discord and say hi!",
                        server: "tf2",
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: Date.now() - 4000,
                        title: "New Map Rotation - January 2025",
                        date: "2025-01-22",
                        category: "update",
                        content: "üó∫Ô∏è Updated map rotation!\n\nPayload:\n- pl_upward\n- pl_badwater\n- pl_barnblitz\n\nKOTH:\n- koth_harvest\n- koth_viaduct\n- koth_lakeside\n\nVote for next week's maps in Discord!",
                        server: "tf2",
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: Date.now() - 3000,
                        title: "Double XP Weekend!",
                        date: "2025-01-26",
                        category: "event",
                        content: "üéâ DOUBLE XP THIS WEEKEND!\n\nSaturday & Sunday - ALL DAY\nAll game modes\nAll maps\n\nGrind your ranks and unlock new achievements!\n\nDon't miss out!",
                        server: "tf2",
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: Date.now() - 2000,
                        title: "Server Rules Update",
                        date: "2025-01-12",
                        category: "announcement",
                        content: "üìã Quick reminder of our server rules:\n\n‚úÖ Be respectful\n‚úÖ No cheating/hacking\n‚úÖ No mic spam\n‚úÖ Have fun!\n\nBreaking rules = kick/ban\nAdmins are here to help!",
                        server: "tf2",
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: Date.now() - 1000,
                        title: "Looking for Admins!",
                        date: "2025-01-08",
                        category: "news",
                        content: "üîç We're looking for responsible players to join our admin team!\n\nRequirements:\n- 50+ hours on our server\n- Mature and fair\n- Active in community\n\nApply in Discord!",
                        server: "tf2",
                        createdAt: new Date().toISOString()
                    }
                ];
                localStorage.setItem('tf2_forum_posts', JSON.stringify(defaultTf2Posts));
            }
        }

        // Initialize on page load
        initializeDefaultPosts();
    </script>
</body>
</html>
